From f736f084c0209135171e8e4cb5d58da6371c47fb Mon Sep 17 00:00:00 2001
From: Daniel Dragomir <daniel.dragomir@windriver.com>
Date: Thu, 18 Jul 2024 10:07:42 +0300
Subject: [PATCH] gcc15

Signed-off-by: Daniel Dragomir <daniel.dragomir@windriver.com>
---
 meta-intel-distro/README                                      | 4 ++--
 .../conf/distro/include/intel-axxia-defaults.inc              | 2 +-
 meta-intel-distro/conf/distro/intel-axxia.conf                | 4 ++--
 meta-intel-distro/conf/templates/default/local.conf.sample    | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/meta-intel-distro/README b/meta-intel-distro/README
index 615efc7a..e44a1ce8 100644
--- a/meta-intel-distro/README
+++ b/meta-intel-distro/README
@@ -284,10 +284,10 @@ NOTE: No preferred version should be set for linux-local provider.
     * 'cd ase/simics'
     * tar czf simics-<simics-version>.tgz simics-<simics-version>
 
-2.3.10. Choose a different GCC version to use: 14.% (gcc14 feature).
+2.3.10. Choose a different GCC version to use: 15.% (gcc15 feature).
     Default version is 13.%.
 
-    DISTRO_FEATURES:append = " gcc14"
+    DISTRO_FEATURES:append = " gcc15"
 
 2.3.11. Enabling Multiple Configuration Build (snr, grr, qsp):
 
diff --git a/meta-intel-distro/conf/distro/include/intel-axxia-defaults.inc b/meta-intel-distro/conf/distro/include/intel-axxia-defaults.inc
index 5c702cdf..244c2357 100644
--- a/meta-intel-distro/conf/distro/include/intel-axxia-defaults.inc
+++ b/meta-intel-distro/conf/distro/include/intel-axxia-defaults.inc
@@ -3,7 +3,7 @@ KV = "${@d.getVar('PREFERRED_VERSION_' + d.getVar('PREFERRED_PROVIDER_virtual/ke
 PREFERRED_VERSION_linux-intel ?= "${KV}"
 PREFERRED_VERSION_linux-intel-debug ?= "${KV}"
 
-GCC_VERSION = "${@bb.utils.contains('DISTRO_FEATURES', 'gcc14', '14.%', '13.%', d)}"
+GCC_VERSION = "${@bb.utils.contains('DISTRO_FEATURES', 'gcc15', '15.%', '13.%', d)}"
 PREFERRED_VERSION_gcc ?= "${GCC_VERSION}"
 PREFERRED_VERSION_gcc-runtime ?= "${GCC_VERSION}"
 PREFERRED_VERSION_gcc-sanitizers ?= "${GCC_VERSION}"
diff --git a/meta-intel-distro/conf/distro/intel-axxia.conf b/meta-intel-distro/conf/distro/intel-axxia.conf
index 007b727b..cbb4252b 100644
--- a/meta-intel-distro/conf/distro/intel-axxia.conf
+++ b/meta-intel-distro/conf/distro/intel-axxia.conf
@@ -24,8 +24,8 @@ include conf/distro/include/intel-axxia-flags.inc
 #DISTRO_FEATURES:append = " simics"
 #SIMICS_VERSION = ""
 
-# Choose GCC version: 14.% (gcc14). Default version: 13.%
-#DISTRO_FEATURES:append = " gcc14"
+# Choose GCC version: 15.% (gcc15). Default version: 13.%
+#DISTRO_FEATURES:append = " gcc15"
 
 BBMASK:append = " ${@bb.utils.contains('DISTRO_FEATURES', 'simics', '', \
 			'meta-intel-distro/recipes-support/simics', d)} \
diff --git a/meta-intel-distro/conf/templates/default/local.conf.sample b/meta-intel-distro/conf/templates/default/local.conf.sample
index 55cb303b..bc5f2e77 100644
--- a/meta-intel-distro/conf/templates/default/local.conf.sample
+++ b/meta-intel-distro/conf/templates/default/local.conf.sample
@@ -15,8 +15,8 @@ PREFERRED_VERSION_linux-intel = "6.6%"
 # Enable "multilib"
 #DISTRO_FEATURES:append = " multilib"
 
-# Choose GCC version: 14.% (gcc14). Default version: 13.%
-#DISTRO_FEATURES:append = " gcc14"
+# Choose GCC version: 15.% (gcc15). Default version: 13.%
+#DISTRO_FEATURES:append = " gcc15"
 
 # Enable settings for INTEL QSP System (for axxia-image-qsp image)
 #DISTRO_FEATURES:append = " qsp"
-- 
2.17.1

