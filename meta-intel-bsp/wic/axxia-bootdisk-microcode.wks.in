# short-description: Create an EFI disk image for Intel Axxia BSPs
# long-description: Creates a partitioned EFI disk image that the user
# can directly dd to boot media. The bootloader is set via ${EFI_PROVIDER}.
# It also includes intel-microcode as an initrd for early update support.

part /boot --source axxia-bootimg-efi --sourceparams="loader=${EFI_PROVIDER},initrd=microcode.cpio" --size 128 --ondisk sda --label msdos --active --align 1024 --use-uuid

part / --source rootfs --ondisk sda --fstype=ext4 --label platform --align 1024 --use-uuid

part swap --ondisk sda --size 44 --label swap1 --fstype=swap --use-uuid

bootloader --ptable gpt --timeout=5 --append="rootwait rootfstype=ext4 "
